{"version":3,"sources":["scripts/main.js"],"names":["allFieldCell","document","getElementsByClassName","startButton","querySelector","score","messageLose","messageWin","messageStart","fieldRow","fielCell","startClick","summ","fullField","filter","cell","textContent","res","map","x","reduce","a","b","result","length","randNewElement","value","Math","floor","random","emptyCell","classList","rand","add","moveRightLeft","direction","i","totalOne","filteredRow","innerHTML","num","missing","zero","Array","fill","newRow","concat","className","moveUpDown","r","kon","rrr","push","children","row","combineRow","k","array","combineRowUpDown","win","remove","checkSteps","rowValue","noMove","columnValue","emptyСell","filt","addEventListener","forEach","e","key"],"mappings":"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","file":"main.14871b90.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\nconst allFieldCell = document.getElementsByClassName('field-cell');\nconst startButton = document.querySelector('.start');\nconst score = document.querySelector('.game-score');\nconst messageLose = document.querySelector('.message-lose');\nconst messageWin = document.querySelector('.message-win');\nconst messageStart = document.querySelector('.message-start');\nconst fieldRow = document.getElementsByClassName('field-row');\nconst fielCell = document.getElementsByClassName('field-cell');\nlet startClick = 0;\n\n// --------------score window-------------\n\nfunction summ() {\n  const fullField = [...allFieldCell].filter(cell => cell.textContent !== '');\n  const val = fullField.map(x => +x.textContent);\n  const res = val.reduce((a, b) => a + b);\n  const result = fullField.length !== 1 ? res : fullField[0].textContent;\n\n  score.textContent = result;\n}\n\n// ------------------random number 2 or 4 -----------\n\nfunction randNewElement() {\n  const value = Math.floor(Math.random() * 100) <= 90 ? 2 : 4;\n\n  const emptyCell = [...allFieldCell].filter(cell =>\n    cell.classList.length === 1);\n\n  const rand = Math.floor(Math.random() * emptyCell.length);\n\n  emptyCell[rand].classList.add(`field-cell--${value}`);\n  emptyCell[rand].textContent = value;\n}\n\n// ------------------button start / refresh----------\n\nstartButton.addEventListener('click', () => {\n  if (startClick === 0) {\n    randNewElement();\n    randNewElement();\n    startClick = 1;\n    startButton.classList.remove('start');\n    startButton.classList.add('restart');\n    startButton.textContent = 'Restart';\n\n    messageStart.classList.add('hidden');\n\n    summ();\n\n    return;\n  }\n\n  if (startClick === 1) {\n    [...allFieldCell].forEach(cell => {\n      cell.textContent = '';\n      cell.className = 'field-cell';\n    });\n    startButton.classList.remove('restart');\n    startButton.classList.add('start');\n    startButton.textContent = 'Start';\n\n    score.textContent = 0;\n\n    startClick = 0;\n\n    messageStart.classList.remove('hidden');\n    messageLose.classList.add('hidden');\n    messageWin.classList.add('hidden');\n  }\n});\n\n// -------------------------move----------\n\nfunction moveRightLeft(direction) {\n  for (let i = 0; i < 16; i++) {\n    if (i % 4 === 0) {\n      const totalOne = fielCell[i].innerHTML;\n      const totalTwo = fielCell[i + 1].innerHTML;\n      const totalThree = fielCell[i + 2].innerHTML;\n      const totalFour = fielCell[i + 3].innerHTML;\n\n      const row = [+totalOne, +totalTwo, +totalThree, +totalFour];\n      const filteredRow = row.filter(num => num);\n      const missing = 4 - filteredRow.length;\n      const zero = Array(missing).fill('');\n      let newRow;\n\n      if (direction === 'right') {\n        newRow = zero.concat(filteredRow);\n      }\n\n      if (direction === 'left') {\n        newRow = filteredRow.concat(zero);\n      }\n\n      fielCell[i].innerHTML = newRow[0];\n      fielCell[i + 1].innerHTML = newRow[1];\n      fielCell[i + 2].innerHTML = newRow[2];\n      fielCell[i + 3].innerHTML = newRow[3];\n\n      fielCell[i].className = newRow[0] === '' ? 'field-cell'\n        : `field-cell field-cell--${newRow[0]}`;\n\n      fielCell[i + 1].className = newRow[1] === '' ? 'field-cell'\n        : `field-cell field-cell--${newRow[1]}`;\n\n      fielCell[i + 2].className = newRow[2] === '' ? 'field-cell'\n        : `field-cell field-cell--${newRow[2]}`;\n\n      fielCell[i + 3].className = newRow[3] === '' ? 'field-cell'\n        : `field-cell field-cell--${newRow[3]}`;\n    }\n  }\n}\n\nfunction moveUpDown(direction) {\n  const r = [];\n\n  for (let i = 0; i < 4; i++) {\n    const kon = [];\n\n    for (let rrr = 0; rrr < 4; rrr++) {\n      kon.push([...fieldRow][rrr].children[i].innerHTML);\n    }\n\n    r.push(kon);\n  }\n\n  for (let i = 0; i < 4; i++) {\n    const row = [+r[i][0], +r[i][1], +r[i][2], +r[i][3]];\n    const filteredRow = row.filter(num => num);\n    const missing = 4 - filteredRow.length;\n    const zero = Array(missing).fill('');\n    let newRow;\n\n    if (direction === 'up') {\n      newRow = filteredRow.concat(zero);\n    }\n\n    if (direction === 'down') {\n      newRow = zero.concat(filteredRow);\n    }\n\n    fielCell[i].innerHTML = newRow[0];\n    fielCell[i + 4].innerHTML = newRow[1];\n    fielCell[i + 8].innerHTML = newRow[2];\n    fielCell[i + 12].innerHTML = newRow[3];\n\n    fielCell[i].className = newRow[0] === '' ? 'field-cell'\n      : `field-cell field-cell--${newRow[0]}`;\n\n    fielCell[i + 4].className = newRow[1] === '' ? 'field-cell'\n      : `field-cell field-cell--${newRow[1]}`;\n\n    fielCell[i + 8].className = newRow[2] === '' ? 'field-cell'\n      : `field-cell field-cell--${newRow[2]}`;\n\n    fielCell[i + 12].className = newRow[3] === '' ? 'field-cell'\n      : `field-cell field-cell--${newRow[3]}`;\n  }\n};\n\n// ----------------------plus the same----------------\n\nfunction combineRow(direction) {\n  for (let k = 0; k < 4; k++) {\n    const array = [\n      +[...fieldRow][k].children[0].innerHTML,\n      +[...fieldRow][k].children[1].innerHTML,\n      +[...fieldRow][k].children[2].innerHTML,\n      +[...fieldRow][k].children[3].innerHTML,\n    ];\n\n    const res = [...array];\n\n    if (direction === 'right') {\n      for (let i = 3; i > 0; i--) {\n        if (array[i] === array[i - 1] && res[i] === array[i]) {\n          res[i] = array[i - 1] * 2;\n          res[i - 1] = 0;\n        }\n      }\n    }\n\n    if (direction === 'left') {\n      for (let i = 0; i < 4; i++) {\n        if (array[i] === array[i + 1] && res[i] === array[i]) {\n          res[i] = array[i] * 2;\n          res[i + 1] = 0;\n        }\n      }\n    }\n\n    [...fieldRow][k].children[0].innerHTML = res[0] === 0 ? '' : res[0];\n    [...fieldRow][k].children[1].innerHTML = res[1] === 0 ? '' : res[1];\n    [...fieldRow][k].children[2].innerHTML = res[2] === 0 ? '' : res[2];\n    [...fieldRow][k].children[3].innerHTML = res[3] === 0 ? '' : res[3];\n\n    [...fieldRow][k].children[0].className = res[0] === 0 ? 'field-cell'\n      : `field-cell field-cell--${res[0]}`;\n\n    [...fieldRow][k].children[1].className = res[1] === 0 ? 'field-cell'\n      : `field-cell field-cell--${res[1]}`;\n\n    [...fieldRow][k].children[2].className = res[2] === 0 ? 'field-cell'\n      : `field-cell field-cell--${res[2]}`;\n\n    [...fieldRow][k].children[3].className = res[3] === 0 ? 'field-cell'\n      : `field-cell field-cell--${res[3]}`;\n  }\n}\n\nfunction combineRowUpDown(direction) {\n  for (let k = 0; k < 4; k++) {\n    const array = [\n      +[...fieldRow][0].children[k].innerHTML,\n      +[...fieldRow][1].children[k].innerHTML,\n      +[...fieldRow][2].children[k].innerHTML,\n      +[...fieldRow][3].children[k].innerHTML,\n    ];\n\n    const res = [...array];\n\n    if (direction === 'top') {\n      for (let i = 0; i < 4; i++) {\n        if (array[i] === array[i + 1] && res[i] === array[i]) {\n          res[i] = array[i + 1] * 2;\n          res[i + 1] = 0;\n        }\n      }\n    }\n\n    if (direction === 'down') {\n      for (let i = 3; i >= 0; i--) {\n        if (array[i] === array[i - 1] && res[i] === array[i]) {\n          res[i - 1] = array[i] * 2;\n          res[i] = 0;\n        }\n      }\n    }\n\n    [...fieldRow][0].children[k].innerHTML = res[0] === 0 ? '' : res[0];\n    [...fieldRow][1].children[k].innerHTML = res[1] === 0 ? '' : res[1];\n    [...fieldRow][2].children[k].innerHTML = res[2] === 0 ? '' : res[2];\n    [...fieldRow][3].children[k].innerHTML = res[3] === 0 ? '' : res[3];\n\n    [...fieldRow][0].children[k].className = res[0] === 0 ? 'field-cell'\n      : `field-cell field-cell--${res[0]}`;\n\n    [...fieldRow][1].children[k].className = res[1] === 0 ? 'field-cell'\n      : `field-cell field-cell--${res[1]}`;\n\n    [...fieldRow][2].children[k].className = res[2] === 0 ? 'field-cell'\n      : `field-cell field-cell--${res[2]}`;\n\n    [...fieldRow][3].children[k].className = res[3] === 0 ? 'field-cell'\n      : `field-cell field-cell--${res[3]}`;\n  }\n}\n\n// --------------check if 2048 win-------------------\n\nfunction win() {\n  for (let i = 0; i < 16; i++) {\n    if ([...fielCell][i].innerHTML === '2048') {\n      messageWin.classList.remove('hidden');\n    }\n  }\n}\n\n// -----------------check for steps ------------------------\n\nfunction checkSteps() {\n  const rowValue = [];\n  const columnValue = [];\n  const emptyСell = [...allFieldCell].filter(cell =>\n    cell.textContent === '').length === 0;\n\n  for (let i = 0; i < 4; i++) {\n    const kon = [];\n\n    for (let rrr = 0; rrr < 4; rrr++) {\n      kon.push(+[...fieldRow][rrr].children[i].innerHTML);\n    }\n\n    const filt = kon.filter(num => num);\n\n    columnValue.push(filt);\n  }\n\n  for (let i = 0; i < 16; i++) {\n    if (i % 4 === 0) {\n      const totalOne = fielCell[i].innerHTML;\n      const totalTwo = fielCell[i + 1].innerHTML;\n      const totalThree = fielCell[i + 2].innerHTML;\n      const totalFour = fielCell[i + 3].innerHTML;\n\n      const row = [+totalOne, +totalTwo, +totalThree, +totalFour];\n      const filteredRow = row.filter(num => num);\n\n      rowValue.push(filteredRow);\n    }\n  }\n\n  let noMove;\n\n  for (let i = 0; i < 4; i++) {\n    if (rowValue[i].length > 1) {\n      for (let k = 0; k < rowValue[i].length; k++) {\n        if (rowValue[i][k] === rowValue[i][k + 1]) {\n          noMove = true;\n\n          return;\n        }\n      }\n    }\n\n    if (columnValue[i].length > 1) {\n      for (let k = 0; k < columnValue[i].length; k++) {\n        if (columnValue[i][k] === columnValue[i][k + 1]) {\n          noMove = true;\n\n          return;\n        }\n      }\n    }\n\n    noMove = false;\n  }\n\n  if (!noMove && emptyСell) {\n    messageLose.classList.remove('hidden');\n  }\n}\n\n// --------------------addEventListener---------\n\ndocument.addEventListener('keydown', (e) => {\n  if (e.key === 'ArrowUp' && startClick !== 0) {\n    moveUpDown('up');\n    combineRowUpDown('top');\n    moveUpDown('up');\n    randNewElement();\n    summ();\n    win();\n    checkSteps();\n  };\n\n  if (e.key === 'ArrowDown' && startClick !== 0) {\n    moveUpDown('down');\n    combineRowUpDown('down');\n    moveUpDown('down');\n    randNewElement();\n    summ();\n    win();\n    checkSteps();\n  };\n\n  if (e.key === 'ArrowLeft' && startClick !== 0) {\n    moveRightLeft('left');\n    combineRow('left');\n    moveRightLeft('left');\n    randNewElement();\n    summ();\n    win();\n    checkSteps();\n  };\n\n  if (e.key === 'ArrowRight' && startClick !== 0) {\n    moveRightLeft('right');\n    combineRow('right');\n    moveRightLeft('right');\n    randNewElement();\n    summ();\n    win();\n    checkSteps();\n  };\n});\n"]}